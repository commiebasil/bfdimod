decision_BUN_Revolt_category = {
	BUN_Revolt_Ticking = {
	    activation = {
            tag = BUN
            country_exists = BUN
            has_dynamic_modifier = {
                modifier = idea_BUN_Ticking_Bomb
            }
            check_variable = {
                var_idea_BUN_Ticking_Bomb_surrender_limit > 0.24
            }
            has_war_with = YFC
		}
		available = {
			always = no
		}
		cancel_trigger = {
            NOT = {has_dynamic_modifier { modifier = idea_BUN_Ticking_Bomb }}
		}
		icon = GFX_decision_SWI_consolidate_council_power  
		is_good = no
		days_mission_timeout = 25
		timeout_effect = {
            custom_effect_tooltip = l_BUN_YFC_1
            hidden_effect = {
                BUN = {
                    add_to_variable = { var_idea_BUN_Ticking_Bomb_stability_factor = -0.25 }
                    add_to_variable = { var_idea_BUN_Ticking_Bomb_war_support_factor = -0.25 }
                    add_to_variable = { var_idea_BUN_Ticking_Bomb_army_core_attack_factor = -0.25 }
                    add_to_variable = { var_idea_BUN_Ticking_Bomb_army_core_defence_factor = -0.25 }
                    add_to_variable = { var_idea_BUN_Ticking_Bomb_surrender_limit = -0.25 }
                    add_to_variable = { var_idea_BUN_Ticking_Bomb_ai_focus_aggressive_factor = -0.25 }
                }
            }    
        }
    }  

	BUN_Revolt_Victory = {
	    activation = {
			country_exists = BUN
			has_dynamic_modifier = {
				modifier = idea_BUN_Ticking_Bomb
			}
			has_war_with = YFC
			AND = { 
				OR = {
					AND = {
						controls_state = 85
						controls_state = 212
						OR = {
							CRN = {
								AND = {
									controls_state = 217
									controls_state = 218
								}
							}
							AND = {
								controls_state = 217
								controls_state = 218
							}
						}
					}
					controls_state = 201
				}
			}
		}
		available = {
			always = no
		}
		cancel_trigger = {
			OR = {
				NOT = {has_dynamic_modifier { modifier = idea_BUN_Ticking_Bomb }}
				YFC = {
					OR = {
						controls_state = 85
						controls_state = 212
						controls_state = 217
						controls_state = 218
					}
				}
			}
            
		}
		icon = GFX_decision_eng_puppet_usa  
		is_good = yes
		days_mission_timeout = 45
		timeout_effect = {
			hidden_effect = {
				country_event = {
					id = BUN_YFC.1
					hours = 1
					random_hours = 3
				}
			}
        }
    }

	BUN_Revolt_Recruit = { 
		icon = GFX_decision_generic_protection
      
		visible = {
			tag = BUN
			country_exists = BUN
			has_dynamic_modifier = {
				modifier = idea_BUN_Ticking_Bomb
			}
			has_war_with = YFC
			has_army_size = {
				size < 9
			}
		}

		fire_only_once = no
		cost = 25
		days_remove = 30
		days_re_enable = 45

		available = {
			has_manpower > 2000
			has_equipment = {
				infantry_equipment > 499
			}
		}

		cancel_trigger = {
			NOT = {has_dynamic_modifier { modifier = idea_BUN_Ticking_Bomb }}
        }

		complete_effect = {
			add_manpower = -2000
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -500
			}
		}

		remove_effect = {
			85 = {
				create_unit = {
					division = "name = \"Insurgents\" division_template = \"Armed Insurgents\" start_equipment_factor = 0.3 start_experience_factor = 0.1"
					owner = BUN
					count = 1
					allow_spawning_on_enemy_provs = yes
					id = 1967
				}
			}
        }

		ai_will_do = {
			base = 50
			modifier = {
				add = 30
				has_political_power > 25
			}
		}
	}

	BUN_Efforts_Workshops = { 
		icon = GFX_decision_generic_forestry
      
		visible = {
			tag = BUN
			country_exists = BUN
			has_dynamic_modifier = {
				modifier = idea_BUN_Ticking_Bomb
			}
			has_war_with = YFC
			controls_state = 85
		}

		fire_only_once = yes
		cost = 75
		days_remove = 35

		cancel_trigger = {
			NOT = {has_dynamic_modifier { modifier = idea_BUN_Ticking_Bomb }}
        }

		remove_effect = {
			add_offsite_building = { type = arms_factory level = 1 }
        }

		ai_will_do = {
			base = 25
			modifier = {
				add = 25
				has_political_power > 75
			}
		}
	}

	BUN_Efforts_Production = { 
		icon = GFX_decision_ger_military_buildup
      
		visible = {
			tag = BUN
			country_exists = BUN
			has_dynamic_modifier = {
				modifier = idea_BUN_Ticking_Bomb
			}
			has_war_with = YFC
			controls_state = 85
		}

		fire_only_once = yes
		cost = 50
		days_remove = 100

		modifier = {
			industrial_capacity_factory = 0.1
			production_factory_efficiency_gain_factor = 0.25
		}

		cancel_trigger = {
			NOT = {has_dynamic_modifier { modifier = idea_BUN_Ticking_Bomb }}
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 20
				has_political_power > 50
			}
		}
	}

	BUN_Efforts_Defence = { 
		icon = GFX_decision_generic_intelligence_operation
      
		visible = {
			tag = BUN
			country_exists = BUN
			has_dynamic_modifier = {
				modifier = idea_BUN_Ticking_Bomb
			}
			has_war_with = YFC
			controls_state = 85
		}

		fire_only_once = yes
		cost = 50
		days_remove = 100

		modifier = {
			army_defence_factor = 0.25
			dig_in_speed_factor = 0.2
			army_morale_factor = 0.1
		}

		cancel_trigger = {
			NOT = {has_dynamic_modifier { modifier = idea_BUN_Ticking_Bomb }}
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 20
				has_political_power > 50
			}
		}
	}

	BUN_Efforts_Offense = { 
		icon = GFX_decision_generic_intelligence_operation
      
		visible = {
			tag = BUN
			country_exists = BUN
			has_dynamic_modifier = {
				modifier = idea_BUN_Ticking_Bomb
			}
			has_war_with = YFC
			controls_state = 85
		}

		fire_only_once = yes
		cost = 50
		days_remove = 100

		modifier = {
			army_attack_factor = 0.2
			army_speed_factor = 0.05
			planning_speed = 0.3
		}

		cancel_trigger = {
			NOT = {has_dynamic_modifier { modifier = idea_BUN_Ticking_Bomb }}
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 20
				has_political_power > 50
			}
		}
	}

	BUN_Efforts_Scavenging = { 
		icon = GFX_decision_generic_confiscation
      
		visible = {
			tag = BUN
			country_exists = BUN
			has_dynamic_modifier = {
				modifier = idea_BUN_Ticking_Bomb
			}
			has_war_with = YFC
			controls_state = 85
		}

		fire_only_once = yes
		cost = 50
		days_remove = 100

		modifier = {
			equipment_capture = 0.45
			supply_consumption_factor = -0.3
		}

		cancel_trigger = {
			NOT = {has_dynamic_modifier { modifier = idea_BUN_Ticking_Bomb }}
        }

		ai_will_do = {
			base = 0
			modifier = {
				add = 20
				has_political_power > 50
			}
		}
	}

	BUN_Ceasefire = { 
		icon = GFX_decision_generic_form_nation
      
		visible = {
			tag = BUN
			country_exists = BUN
			has_dynamic_modifier = {
				modifier = idea_BUN_Ticking_Bomb
			}
			has_war_with = YFC
			check_variable = {
                var_idea_BUN_Ticking_Bomb_surrender_limit < 0.25
            }
			NOT = {has_active_mission = BUN_Revolt_Victory}
		}

		fire_only_once = yes
		cost = 25
		days_remove = 35

		cancel_trigger = {
			OR = {
				has_active_mission = BUN_Revolt_Victory
				NOT = {has_dynamic_modifier { modifier = idea_BUN_Ticking_Bomb }}
			}	
        }

		remove_effect = {
			YFC = {
				country_event = {
					id = BUN_YFC.6
					hours = 2
					random_hours = 2
				}
			}
        }

		ai_will_do = {
			base = 100
		}
	}
}
